(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(26)},23:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(6),o=n.n(i),s=(n(23),n(7)),c=n(8),l=n(16),u=n(9),m=n(17),h=n(0),d=n(10),w=n(11),f=n(28);var p=function(e){return a.a.createElement(f.a,{onClick:e.mesh},"Invisible")},v=n(15),b=n(14);var g=function(){var e=Object(r.useState)(""),t=Object(v.a)(e,2),n=t[0],i=t[1];return console.log(n),a.a.createElement("div",null,a.a.createElement("input",{type:"file",onChange:function(e){return i(e.target.files)}}),a.a.createElement(b.STLViewer,{url:"/home/jmichel/Documents/tesis/ThreeJS/public/test.stl",width:400,height:400,modelColor:"#B92C2C",backgroundColor:"#EAEAEA",rotate:!0,orbitControls:!0}))},y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleWindowResize=function(){var e=n.el.clientWidth,t=n.el.clientHeight;n.renderer.setSize(e,t),n.camera.aspect=e/t,n.camera.updateProjectionMatrix()},n.sceneSetup=function(){var e=n.el.clientWidth,t=n.el.clientHeight;n.raycaster=new h.n,n.scene=new h.o,n.camera=new h.l(75,e/t,.1,1e3),n.controls=new w.a(n.camera,n.el),n.camera.position.z=85,n.renderer=new h.s,n.renderer.setSize(e,t),n.el.appendChild(n.renderer.domElement),n.material=new h.k({color:65280,wireframe:!0}),(new d.a).load(n.state.path,function(e){n.mesh=new h.j(e,n.material);var t=(new h.a).setFromObject(n.mesh);n.raycaster=new h.n,console.log(t);var r=t.getCenter().clone();r.multiplyScalar(-1),n.mesh.traverse(function(e){e instanceof h.j&&e.geometry.translate(r.x,r.y,r.z)}),t.setFromObject(n.mesh),n.scene.add(n.mesh)},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error : ",e)})},n.invisible=function(){n.mesh.visible=!n.state.visible,console.log(n.mesh),n.setState({visible:n.mesh.visible})},n.startAnimationLoop=function(){n.renderer.render(n.scene,n.camera),n.requestID=window.requestAnimationFrame(n.startAnimationLoop)},n.state={visible:!0,path:"test.stl"},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.sceneSetup(),this.startAnimationLoop(),window.addEventListener("resize",this.handleWindowResize)}},{key:"raycast",value:function(e){this.mouse={x:0,y:0},this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);for(var t=this.raycaster.intersectObjects(this.scene.children),n=0;n<t.length;n++)console.log(t[n]),this.mesh.material.color.setHex(16776960)}},{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{onMouseDownCapture:function(t){return e.raycast(t)},onMouseUp:function(){return e.mesh.material.color.setHex(65280)},style:{height:"500px"},ref:function(t){return e.el=t}}),a.a.createElement(p,{mesh:this.invisible}),a.a.createElement(g,null))}}]),t}(r.Component);var E=function(){return a.a.createElement(y,null)};o.a.render(a.a.createElement(E,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.2aa5af26.chunk.js.map